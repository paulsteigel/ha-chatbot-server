name: Kids ChatBot Server
version: "1.1.0"
slug: kids-chatbot-server
description: OpenAI-powered voice chatbot with context memory for kids
url: https://github.com/paulsteigel/ha-chatbot-server
arch:
  - aarch64
  - amd64
  - armhf
  - armv7
  - i386
init: false
startup: application
boot: auto
ports:
  5000/tcp: 5000
ports_description:
  5000/tcp: WebSocket server port

# ============================================================================
# DEFAULT OPTIONS
# ============================================================================
options:
  # === AI PROVIDER CONFIGURATION ===
  ai_provider: "deepseek"
  ai_model: "deepseek-chat"
  
  # API Keys (gi·ªØ nguy√™n t√™n bi·∫øn c≈©)
  openai_api_key: ""
  openai_base_url: "https://api.openai.com/v1"
  deepseek_api_key: ""
  groq_api_key: ""
  
  # === TTS CONFIGURATION ===
  tts_provider: "openai"
  
  # OpenAI TTS (gi·ªØ t√™n bi·∫øn c≈©)
  tts_voice_vi: "nova"
  tts_voice_en: "alloy"
  
  # Piper TTS (m·ªõi - t∆∞∆°ng t·ª± structure OpenAI)
  piper_voice_vi: "vi_VN-vais-medium"
  piper_voice_en: "en_US-lessac-medium"
  
  # === STT CONFIGURATION ===
  # (ƒë√£ c√≥ groq_api_key ·ªü tr√™n)
  
  # === PROMPT CUSTOMIZATION ===
  system_prompt: |
    B·∫°n l√† Y√™n Ho√† - tr·ª£ l√Ω AI th√¢n thi·ªán h·ªó tr·ª£ h·ªçc sinh ti·ªÉu h·ªçc ·ªü ƒê√† B·∫Øc, Ho√† B√¨nh.
    
    QUY T·∫ÆC:
    1. Lu√¥n tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát tr·ª´ khi ƒë∆∞·ª£c y√™u c·∫ßu kh√°c
    2. X∆∞ng h√¥: Ch·ªã (AI) - Em (h·ªçc sinh)
    3. Th√¢n thi·ªán, vui v·∫ª, c√¢u ng·∫Øn g·ªçn (2-3 c√¢u)
    4. D√πng emoji ph√π h·ª£p üòä üíï
    
    L∆ØU √ù: Em c√≥ th·ªÉ ra l·ªánh ƒëi·ªÅu khi·ªÉn:
    - "T·∫Øt ƒë√®n" / "B·∫≠t ƒë√®n" üí°
    - "TƒÉng √¢m l∆∞·ª£ng" / "Gi·∫£m √¢m l∆∞·ª£ng" üîä
    - "D·ª´ng l·∫°i" / "Ti·∫øp t·ª•c" ‚ñ∂Ô∏è
    
    Khi em ra l·ªánh, ch·ªã CH·ªà X√ÅC NH·∫¨N NG·∫ÆN G·ªåN.
    H√ÉY GI√öP ƒê·ª† C√ÅC EM H·∫æT M√åNH!
  
  custom_prompt: ""
  
  # === MYSQL LOGGING (gi·ªØ nguy√™n format c≈©) ===
  mysql_url: ""
  
  # === GENERAL SETTINGS (gi·ªØ nguy√™n) ===
  temperature: 0.7
  max_tokens: 500
  max_context_messages: 10
  log_level: "INFO"

# ============================================================================
# SCHEMA (Validation + UI)
# ============================================================================
schema:
  # === AI PROVIDER ===
  ai_provider: list(openai|deepseek)
  ai_model: list(gpt-4o-mini|gpt-4o|gpt-4-turbo|gpt-3.5-turbo|deepseek-chat|deepseek-reasoner)
  
  # === API KEYS (gi·ªØ nguy√™n t√™n) ===
  openai_api_key: password?
  openai_base_url: url?
  deepseek_api_key: password?
  groq_api_key: password?
  
  # === TTS ===
  tts_provider: list(openai|piper)
  
  # OpenAI TTS voices
  tts_voice_vi: list(alloy|echo|fable|onyx|nova|shimmer)?
  tts_voice_en: list(alloy|echo|fable|onyx|nova|shimmer)?
  
  # Piper TTS voices (Vietnamese + English)
  piper_voice_vi: list(vi_VN-vais-low|vi_VN-vais-medium|vi_VN-vais-high|vi_VN-25hours-single)?
  piper_voice_en: list(en_US-lessac-medium|en_US-amy-medium|en_GB-alan-medium|en_GB-southern_english_female-medium)?
  
  # === PROMPTS ===
  system_prompt: text?
  custom_prompt: text?
  
  # === MYSQL (gi·ªØ nguy√™n) ===
  mysql_url: str?
  
  # === GENERAL (gi·ªØ nguy√™n) ===
  temperature: float(0.0,2.0)?
  max_tokens: int(50,4000)?
  max_context_messages: int(1,50)?
  log_level: list(DEBUG|INFO|WARNING|ERROR)?

