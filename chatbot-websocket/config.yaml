# ============================================================================
# School Chatbot WebSocket - Configuration
# ============================================================================
name: "School Chatbot WebSocket"
version: "1.0.32"
slug: school-chatbot-websocket
description: "AI Chatbot with Azure AI Foundry + Azure Speech Services"
arch:
  - amd64
  - armv7
  - aarch64
init: false
hassio_api: false
startup: application
boot: auto

ports:
  5000/tcp: 5000

# ============================================================================
# OPTIONS - User Configuration
# ============================================================================
options:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ¤– AI CHAT CONFIGURATION (Azure AI Foundry)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ai_provider: azure
  ai_model: "gpt-4o-2"
  
  # Azure OpenAI (Chat)
  azure_api_key: "heVzcP75QcQzkL5G2CNan6OAxpHkKPfYzhQsNaIGHX7aycVMQKfQJQJ99CAACHYHv6XJ3w3AAAAACOGozkS"
  azure_endpoint: "https://admin-mkz8dkfn-eastus2.openai.azure.com/openai/v1/"
  azure_deployment: "gpt-4o-2"
  azure_api_version: "2024-12-01-preview"
  
  # Chat Settings
  temperature: 0.7
  max_tokens: 500
  max_context: 10
  
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ”Š TTS CONFIGURATION (Azure Speech Services)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  tts_provider: azure_speech
  
  # Azure Speech Services (TTS)
  azure_speech_key: "PASTE_KEY_1_OR_KEY_2_HERE"  # âœ… Click "Show Keys" to get!
  azure_speech_region: "eastus"  # âœ… FIXED: eastus (not eastus2!)
  
  # TTS Voices (Neural HD)
  tts_voice_vi: vi-VN-HoaiMyNeural
  tts_voice_en: en-US-AvaMultilingualNeural
  
  # Text Cleaning
  tts_remove_emoji: true
  tts_remove_markdown: true
  
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ¤ STT CONFIGURATION
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  stt_provider: groq  # groq (free + fast) or azure_speech
  
  # Groq API (for STT - Free!)
  groq_api_key: ""  # Get free at https://console.groq.com
  
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ”„ FALLBACK PROVIDERS (Optional)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # OpenAI (for TTS fallback)
  openai_api_key: ""
  openai_base_url: "https://api.openai.com/v1"
  
  # DeepSeek (for Chat fallback)
  deepseek_api_key: ""
  
  # Piper (Local TTS fallback)
  piper_host: "addon_core_piper"
  piper_port: 10200
  piper_voice_vi: vi_VN-vais1000-medium
  piper_voice_en: en_US-lessac-medium
  
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ’¾ DATABASE (Optional)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  mysql_url: ""  # Format: mysql://user:pass@host:3306/dbname
  
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸµ MUSIC SERVICE (Optional)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  music_service_url: "http://music.sfdp.net"
  enable_music_playback: true
  
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # ğŸ”§ SYSTEM
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  log_level: INFO

# ============================================================================
# SCHEMA - Validation & UI
# ============================================================================
# ============================================================================
# SCHEMA - Validation & UI
# ============================================================================
schema:
  # AI Provider
  ai_provider: list(openai|deepseek|azure)
  ai_model: list(gpt-4o|gpt-4o-2|gpt-4o-mini|gpt-4|gpt-4-turbo|gpt-3.5-turbo|deepseek-chat|deepseek-reasoner)
  
  # Azure OpenAI (Chat)
  azure_api_key: password?
  azure_endpoint: str?
  azure_deployment: str?
  azure_api_version: str?
  
  # Azure Speech Services (TTS)
  azure_speech_key: password?
  azure_speech_region: str?
  
  # TTS/STT Providers
  tts_provider: list(azure_speech|openai|piper)
  stt_provider: list(azure_speech|groq|openai)?
  
  # âœ… TTS Voices - WITH DROPDOWN!
  tts_voice_vi: list(vi-VN-HoaiMyNeural|alloy|echo|fable|onyx|nova|shimmer)?
  tts_voice_en: list(en-US-AvaMultilingualNeural|alloy|echo|fable|onyx|nova|shimmer)?
  
  tts_remove_emoji: bool?
  tts_remove_markdown: bool?
  
  # Fallback APIs
  openai_api_key: password?
  openai_base_url: str?
  deepseek_api_key: password?
  groq_api_key: password?
  
  # Piper
  piper_host: str?
  piper_port: int(1,65535)?
  piper_voice_vi: list(vi-25hours-single-low|vi-vivos-x-low|vi_VN-25hours_single-low|vi_VN-vais1000-medium|vi_VN-vivos-x_low)?
  piper_voice_en: list(en_US-lessac-medium|en_US-amy-medium|en_GB-alan-medium|en_GB-southern_english_female-medium)?
  
  # Chat Settings
  temperature: float(0.0,2.0)?
  max_tokens: int(50,4000)?
  max_context: int(1,50)?
  
  # Database
  mysql_url: str?
  
  # Music
  music_service_url: str?
  enable_music_playback: bool?
  
  # System
  log_level: list(DEBUG|INFO|WARNING|ERROR)?

